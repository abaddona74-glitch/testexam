@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

[data-theme='dark'] {
  --foreground-rgb: 236, 237, 240;
  /* Not pure white, softer text */
  --background-start-rgb: 23, 23, 23;
  /* Neutral-900 like */
  --background-end-rgb: 10, 10, 10;
  /* Neutral-950 like */
}

.dark {
  --foreground-rgb: 236, 237, 240;
  --background-start-rgb: 23, 23, 23;
  --background-end-rgb: 10, 10, 10;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(to bottom,
      transparent,
      rgb(var(--background-end-rgb))) rgb(var(--background-start-rgb));
  transition: background-color 0.3s ease, color 0.3s ease;
}


/* Bloody Text Effect */
.mythic-blood {
  color: #ff0000;
  text-shadow:
    2px 2px 0px #570000,
    1px 1px 0px #ff7777;
  position: relative;
  z-index: 1;
  display: inline-block;
}

/* Base Drip */
.mythic-blood::before {
  content: '';
  position: absolute;
  background: #ff0000;
  border-radius: 0 0 5px 5px;
  width: 2px;
  height: 0;
  top: 75%;
  left: 30%;
  opacity: 0;
  z-index: -1;
  animation: drip 3s infinite ease-in;
}

/* Variations for organic look */
.mythic-blood:nth-child(2n)::before {
  left: 60%;
  animation-duration: 4s;
  animation-delay: 1s;
}

.mythic-blood:nth-child(3n)::before {
  left: 40%;
  width: 3px;
  animation-duration: 2.5s;
  animation-delay: 0.5s;
}

.mythic-blood:nth-child(4n)::before {
  left: 20%;
  animation-duration: 5s;
  animation-delay: 0s;
}

/* Some letters get 2 drips */
.mythic-blood:nth-child(5n)::after {
  content: '';
  position: absolute;
  background: #ff0000;
  border-radius: 0 0 5px 5px;
  width: 2px;
  height: 0;
  top: 80%;
  right: 20%;
  opacity: 0;
  z-index: -1;
  animation: drip 3.5s infinite ease-in 2s;
}

@keyframes drip {
  0% {
    height: 0;
    opacity: 1;
  }

  60% {
    height: 10px;
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    height: 15px;
    opacity: 0.8;
    transform: translateY(5px);
  }

  100% {
    height: 15px;
    opacity: 0;
    transform: translateY(15px);
  }
}

/* RGB Text Animation */
@keyframes rgb-text {
  0% {
    color: #ff0000;
  }

  14% {
    color: #ff7f00;
  }

  28% {
    color: #ffff00;
  }

  42% {
    color: #00ff00;
  }

  57% {
    color: #0000ff;
  }

  71% {
    color: #4b0082;
  }

  85% {
    color: #8b00ff;
  }

  100% {
    color: #ff0000;
  }
}

.legendary-rgb-text {
  animation: rgb-text 2s linear infinite;
  text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
}

/* RGB Border Loop Animation (Moving Tail) */
@keyframes border-rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.legendary-border-tail {
  position: relative;
  z-index: 0;
  overflow: hidden;
  /* Ensure parent has some bg if needed, but here we just mask */
}

.legendary-border-tail::before {
  content: '';
  position: absolute;
  width: 150%;
  height: 500%;
  /* Over-size to ensure rotation covers corners */
  top: -200%;
  left: -25%;
  background: conic-gradient(from 0deg,
      transparent 0deg,
      transparent 280deg,
      #ff0000 300deg,
      #00ff00 320deg,
      #0000ff 340deg,
      transparent 360deg);
  animation: border-rotate 3s linear infinite;
  z-index: -2;
}

.legendary-border-tail::after {
  content: '';
  position: absolute;
  inset: 2px;
  /* Border width */
  background: #111111;
  /* Dark background to make RGB pop */
  border-radius: inherit;
  /* Follows parent */
  z-index: -1;
}

/* Liquid/Wave Progress Bar */
.progress-wave {
  background: repeating-linear-gradient(45deg,
      #2563eb,
      #2563eb 10px,
      #3b82f6 10px,
      #3b82f6 20px);
  background-size: 200% 200%;
  animation: wave-move 1s linear infinite;
  box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.3);
}

@keyframes wave-move {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 28px 0;
  }
}

.liquid-bar {
  background: linear-gradient(270deg, #2563eb, #60a5fa, #2563eb);
  background-size: 200% 100%;
  animation: rainbow 3s linear infinite;
  position: relative;
  overflow: hidden;
}

/* Top "Foam" or Wave Edge */
.liquid-bar::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 10px;
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: shimmer 1s infinite;
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-4px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Horizontal bounce for arrow indicator */
@keyframes bounce-x {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(6px);
  }
}

.animate-bounce-x {
  animation: bounce-x 0.8s ease-in-out infinite;
}

/* Hidden Test Card Animation */
@keyframes marching-ants {
  0% {
    background-position: 
      0px 0px, 
      100% 0px, 
      100% 100%, 
      0px 100%;
  }
  100% {
    background-position: 
      30px 0px, 
      100% 30px, 
      calc(100% - 30px) 100%, 
      0px calc(100% - 30px);
  }
}

.hidden-card-border {
  background-image: 
    linear-gradient(90deg, #fb923c 50%, transparent 50%), 
    linear-gradient(180deg, #fb923c 50%, transparent 50%), 
    linear-gradient(270deg, #fb923c 50%, transparent 50%), 
    linear-gradient(0deg, #fb923c 50%, transparent 50%);
  background-repeat: repeat-x, repeat-y, repeat-x, repeat-y;
  background-size: 30px 4px, 4px 30px, 30px 4px, 4px 30px;
  background-position: 0px 0px, 100% 0px, 100% 100%, 0px 100%;
  animation: marching-ants 1s linear infinite;
  border-color: transparent !important; /* Hide original border */
}

/* Dark mode adjustment for the orange color if needed, but #fb923c is visible on dark */